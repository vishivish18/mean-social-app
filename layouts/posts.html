<!Doctype HTML>
<html>
<head>	
	<title>MEAN-Social-App</title>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

	<!-- Latest compiled JavaScript -->
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
</head>

<body ng-app="app">
	<div class="container" ng-controller="PostsCtrl">
	<h1>Recent Posts</h1>
		<ul class="list-group">
			<li ng-repeat="post in posts" class="list-group-item">
				<strong>@{{post.username}}</strong>
				<span>{{post.body}}</span>
			</li>			
		</ul>
		<input ng-model="postBody" class="form-control" placeholder="Whats on your mind ?" />
		</br>
		<button ng-click="addPost()" class="btn btn-default">Add Post</button>
	</div>
 <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
 <script type="text/javascript">
 var app = angular.module('app',[]);
 app.controller('PostsCtrl', ['$scope','$http', function($scope,$http){
 	$http.get('http://localhost:3000/api/posts')
 	.success(function (posts){
 		$scope.posts = posts

 	})
	
 	 $scope.addPost = function () {
          if ($scope.postBody) {
            $http.post('/api/posts', {
              username: 'vishalRanjan',
              body:     $scope.postBody
            })
            .success(function (post) {
              $scope.posts.unshift(post)
              $scope.postBody = null
            })
          }
        }

 }])

 </script>
</body>

</html>